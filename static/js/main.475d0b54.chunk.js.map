{"version":3,"sources":["components/CreateEvent.js","util/conversion.js","util/EthErrorMsg.js","components/EventListItem.js","components/EventList.js","components/BrowseEvents.js","components/MyTickets/TicketView.js","components/MyTickets.js","components/MyEvents/OwnedEvent.js","components/MyEvents.js","App.js","serviceWorker.js","index.js"],"names":["CreateEvent","state","event_ID","event_title","sale_active","buyback_active","customer_limited","tickets_per_customer","ticket_types","price_table","deadline","button_disabled","event_ID_helperText","error_open","error_title","error_message","tickets_avail","ticket_prices","event_ID_hex","set_ticket_types","val","a","Math","min","setState","tickets_and_prices","Array","check_form","open_error","errorMessage","handle_close_error","update_deadline","update_event_ID","props","web3","utils","padRight","asciiToHex","update_title","title","button_state","check_fields","submit","contract","methods","create_event","round","getTime","send","from","accounts","on","tx","add_pending_tx","num","receipt","add_confirmed_tx","transactionHash","console","log","message","this","TextField","id","color","label","helperText","variant","required","onChange","e","target","value","FormControlLabel","control","Switch","checked","margin","type","defaultValue","inputProps","max","step","DateFnsUtils","format","d","Button","disabled","onClick","Dialog","open","onClose","DialogTitle","DialogContent","DialogActions","i","prevState","key","toWei","length","event_list","includes","Component","bytesToString","bytes","replace","str","n","substr","String","fromCharCode","parseInt","getErrorMessage","error","JSON","parse","EventListItem","ExpansionPanel","ExpansionPanelSummary","expandIcon","Typography","className","event","Date","now","total_available_tickets","ExpansionPanelDetails","Grid","item","xs","style","textAlign","sum","available_tickets","BuyTicket","ticket_type","total","convert_to_eth","ticket_price","handleChange","name","check_choice","buyTickets","total_value","buy_tickets","eventId","reload_event","bind","r","fromWei","toString","FormControl","toISOString","RadioGroup","map","Radio","EventList","events","has","get","BrowseEvents","TicketView","customer","componentDidMount","load_tickets","get_tickets","call","tickets","return_tickets","failed","estimateGas","then","gasAmount","catch","list_tickets","can_return_tickets","List","dense","ListItem","MyTickets","participation","get_participation","OwnedEvent","handle_close_confirmation","confirmation_open","event_deleted","delete_event","confirmation_title","confirmation_message","handleActivateSale","activator","stop_sale","continue_sale","view_funds","funds","withdraw_funds","get_customer_list","get_customers","customer_list","Chip","avatar","Avatar","get_color","clickable","prices","AddTickets","addTickets","fill","add_tickets","ChangePrices","ticketType","newPrice","change_ticket_price","FormHelperText","Select","labelId","MenuItem","check_input","input","s","MyEvents","owned_events","owner","push","colors","theme","createMuiTheme","palette","primary","main","secondary","background","text","action","overrides","MuiExpansionPanelSummary","root","backgroundColor","MuiExpansionPanelDetails","MuiFormControlLabel","MuiOutlinedInput","borderColor","MuiPickersBasePicker","pickerView","MuiPickersCalendarHeader","dayLabel","MuiSvgIcon","MuiDialog","paper","PendingButton","styled","orange","ConfirmedButton","green","FailedButton","red","TabPanel","children","index","other","component","role","hidden","aria-labelledby","Box","p","tabProps","SimpleBackdrop","Backdrop","CircularProgress","App","activeTab","pending_tx","confirmed_tx","failed_tx","failed_metamask","accountChangeCheck","setInterval","eth","getAccounts","Web3","providers","HttpProvider","net","getId","networkId","deployedNetwork","EventContract","networks","instance","Contract","abi","address","options","handleRevert","load_event_list","load_events","EventCreated","err","res","returnValues","event_id","connect_metamask","window","ethereum","enable","get_events","Map","Promise","all","get_event_info","set","updated_event","updatedEvents","delete","changeTab","pending","splice","indexOf","status","add_failed_tx","ThemeProvider","AppBar","position","short","substring","navigator","clipboard","writeText","alert","conf","Tabs","indicatorColor","centered","aria-label","Tab","login_bar","ButtonGroup","href","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.475d0b54.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Switch, TextField, FormControlLabel, Button, Dialog, DialogTitle, DialogContent, DialogActions } from '@material-ui/core';\r\nimport DateFnsUtils from '@date-io/date-fns'\r\nimport { MuiPickersUtilsProvider, KeyboardTimePicker, KeyboardDatePicker } from '@material-ui/pickers';\r\n\r\nexport default class CreateEvent extends Component {\r\n  state = {\r\n    event_ID: null, \r\n    event_title: null, \r\n    sale_active: false, \r\n    buyback_active: false, \r\n    customer_limited: false, \r\n    tickets_per_customer: 1, \r\n    ticket_types: 1, \r\n    price_table: [], \r\n    deadline: null, \r\n    button_disabled: true, \r\n    event_ID_helperText: \"\",\r\n    error_open: false,\r\n    error_title: null,\r\n    error_message: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.set_ticket_types(1);\r\n  }\r\n\r\n  tickets_avail = [];\r\n  ticket_prices = [];\r\n  event_ID_hex = \"\";\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n\r\n        <TextField \r\n          id=\"event_ID\" \r\n          color=\"secondary\"\r\n          label=\"Unique event ID\" \r\n          helperText={this.state.event_ID_helperText}\r\n          variant=\"outlined\" \r\n          required={true} \r\n          onChange={e => this.update_event_ID(e.target.value) } />\r\n\r\n        <TextField \r\n          id=\"event_title\" \r\n          color=\"secondary\"\r\n          label=\"Event title\" \r\n          variant=\"outlined\" \r\n          required={true}\r\n          onChange={e => this.update_title(e.target.value) } />\r\n\r\n        <div><FormControlLabel\r\n          control={<Switch onChange={e => this.setState({sale_active: e.target.checked})} />}\r\n          label=\"Sale active on deployment\" /></div>\r\n\r\n        <div><FormControlLabel\r\n          control={<Switch onChange={e => this.setState({buyback_active: e.target.checked})} />}\r\n          label=\"Buyback active on deployment\" /></div>\r\n\r\n        <div><FormControlLabel\r\n          control={<Switch onChange={e => this.setState({customer_limited: e.target.checked})} />}\r\n          label=\"Limit number of tickets per customer\" /></div>\r\n        \r\n        {this.tickets_per_customer()}\r\n\r\n        <div><TextField \r\n          id=\"ticket_types\" \r\n          color=\"secondary\"\r\n          label=\"# of ticket types\" \r\n          variant=\"outlined\" \r\n          margin=\"normal\"\r\n          required={true}\r\n          type=\"number\"\r\n          defaultValue={1}\r\n          inputProps={{ min: \"1\", max: \"15\", step: \"1\" }}\r\n          onChange={e => this.set_ticket_types(e.target.value)} /></div>\r\n\r\n        {this.state.price_table}\r\n\r\n        <div>\r\n          <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <KeyboardDatePicker\r\n              id=\"deadline\"\r\n              color=\"secondary\"\r\n              variant=\"inline\"\r\n              format=\"yyyy-MM-dd\"\r\n              margin=\"normal\"\r\n              label=\"Choose a deadline date\"\r\n              value={this.state.deadline}\r\n              onChange={d => this.update_deadline(d)}/>\r\n\t      <KeyboardTimePicker\r\n              margin=\"normal\"\r\n              id=\"time-picker\"\r\n              color=\"secondary\"\r\n              label=\"Choose a deadline time\"\r\n              value={this.state.deadline}\r\n              onChange={d => this.update_deadline(d)}/>\r\n          </MuiPickersUtilsProvider>\r\n        </div>\r\n\r\n        <div><Button\r\n          id=\"createButton\"\r\n          color=\"secondary\"\r\n          variant=\"contained\"\r\n          disabled={this.state.button_disabled}\r\n          onClick={() => { this.submit() }}\r\n        >Create Event</Button></div>\r\n        <Dialog\r\n          open={this.state.error_open}\r\n          onClose={this.handle_close_error}\r\n        >\r\n          <DialogTitle>{this.state.error_title}</DialogTitle>\r\n          <DialogContent>\r\n            {this.state.error_message}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handle_close_error} color=\"secondary\">\r\n              Close\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  tickets_per_customer() {\r\n    if (this.state.customer_limited) return (\r\n      <div><TextField \r\n        id=\"tickets_per_customer\" \r\n        color=\"secondary\"\r\n        label=\"Max. tickets / customer\" \r\n        variant=\"outlined\" \r\n        margin=\"normal\"\r\n        required={true}\r\n        type=\"number\"\r\n        defaultValue={1}\r\n        inputProps={{ min: \"1\", step: \"1\" }}\r\n        onChange={e => this.setState({tickets_per_customer: e.target.value})} /></div>\r\n    )\r\n  }\r\n\r\n  set_ticket_types = async (val) => {\r\n    val = Math.min(val,15);\r\n    await this.setState({ticket_types: val});\r\n    this.tickets_and_prices();\r\n    this.tickets_avail = new Array(val);\r\n    this.ticket_prices = new Array(val);\r\n    this.check_form();\r\n  }\r\n\r\n  open_error = async (errorMessage) => {\r\n    await this.setState(\r\n      {\r\n        error_title: \"Error when creating event\", \r\n        error_message: \"There was an error when trying to create event: \" + errorMessage,\r\n        error_open: true,\r\n      }\r\n    );\r\n  }\r\n\r\n  handle_close_error = async () => {\r\n    await this.setState({error_open: false});\r\n  }\r\n\r\n  tickets_and_prices() {\r\n    this.setState({price_table: []});\r\n    for (let i=0; i<this.state.ticket_types; i++) {\r\n      this.setState(prevState => ({ price_table: [prevState.price_table, (\r\n        <div key={i}><TextField \r\n          id={\"tickets_avail\" + i}\r\n          color=\"secondary\"\r\n          label=\"Nr. of tickets\"\r\n          variant=\"outlined\" \r\n          margin=\"normal\"\r\n          required={true}\r\n          type=\"number\"\r\n          inputProps={{ min: \"1\", step: \"1\" }}\r\n          onChange={e => { this.tickets_avail[i] = e.target.value; this.check_form() }}\r\n          helperText={\"Ticket type \" + (i+1)} />\r\n        <TextField \r\n          id={\"ticket_price\" + i}\r\n          color=\"secondary\"\r\n          label=\"Ticket price (ETH)\"\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required={true}\r\n          type=\"number\"\r\n          inputProps={{ min: \"0.000001\", step: \"0.000001\" }}\r\n          onChange={e => {\r\n            !!e.target.value ? this.ticket_prices[i] = this.props.web3.utils.toWei(e.target.value) : this.ticket_prices[i] = null; \r\n            this.check_form();\r\n          }}\r\n          /></div>\r\n      )]}))\r\n    }\r\n  }\r\n\r\n  update_deadline = async (val) => {\r\n    await this.setState({deadline: val});\r\n    this.check_form();\r\n  }\r\n\r\n  update_event_ID = async (val) => {\r\n    await this.setState({event_ID: val});\r\n    this.event_ID_hex = this.props.web3.utils.padRight(\r\n          this.props.web3.utils.asciiToHex(\r\n            this.state.event_ID), 64);\r\n    \r\n    this.check_form();\r\n  }\r\n\r\n  update_title = async (val) => {\r\n    await this.setState({title: val});\r\n    this.check_form();\r\n  }\r\n\r\n  check_form = async () => {\r\n    let button_state = this.check_fields();\r\n    await this.setState({button_disabled: button_state})\r\n  }\r\n\r\n  check_fields() {\r\n    if (typeof this.state.event_ID !== \"string\") return true;\r\n    if (typeof this.state.event_ID === \"string\" && this.state.event_ID.length < 1) return true;\r\n\r\n    if (this.props.event_list.includes(this.event_ID_hex)) {\r\n      this.setState({event_ID_helperText: \"Event ID is not available.\"});\r\n      return true;\r\n    } else this.setState({event_ID_helperText: \"Event ID is available.\"});\r\n      \r\n    if (typeof this.state.title !== \"string\") return true;\r\n    if (typeof this.state.title === \"string\" && this.state.title.length < 1) return true;\r\n    if (this.state.deadline == null) return true;\r\n\r\n    for (let i=0; i<this.state.ticket_types; i++) {\r\n      if (!this.tickets_avail[i] || !this.ticket_prices[i]) return true;\r\n      if (this.tickets_avail[i] < 1 || this.ticket_prices[i] < 1) return true; //avoid zero or negative ticket availability or prices\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  submit = async () => {\r\n    try {\r\n      await this.props.contract.methods.create_event(\r\n        this.props.web3.utils.asciiToHex(this.state.event_ID),\r\n        this.props.web3.utils.asciiToHex(this.state.title),\r\n        this.tickets_avail,\r\n        this.ticket_prices,\r\n        this.state.customer_limited,\r\n        this.state.tickets_per_customer,\r\n        this.state.sale_active,\r\n        this.state.buyback_active,\r\n        Math.round(this.state.deadline.getTime() / 1000)\r\n        ).send({from: this.props.accounts[0]})\r\n        .on('transactionHash', (tx) => {\r\n          this.props.add_pending_tx(tx);\r\n        })\r\n        .on('confirmation', (num, receipt) => {\r\n          if(num == 0){\r\n            this.props.add_confirmed_tx(receipt.transactionHash, receipt);\r\n          }\r\n        });\r\n    } catch (error) {\r\n      console.log(\"Dev error: \");\r\n      console.log(error);\r\n      await this.open_error(error.message);\r\n    }\r\n  }\r\n}\r\n","export function bytesToString(bytes){\r\n  bytes = bytes.replace('0x','');\r\n  let str = '';\r\n  for (var n = 0; n < bytes.length; n += 2) {\r\n    if(bytes.substr(n,2) == \"00\") break;\r\n    str += String.fromCharCode(parseInt(bytes.substr(n, 2), 16));\r\n  }\r\n  return str;\r\n}\r\n","export function getErrorMessage(error){\r\n  try {\r\n    let j = JSON.parse(error.message.substr(16, error.message.length-15));\r\n    return j.message;\r\n  } catch (e) {\r\n    return \"Unable to read error message.\";\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport {TextField, Radio, RadioGroup, FormControl, FormControlLabel, Button, Grid } from '@material-ui/core';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nimport { bytesToString } from '../util/conversion.js';\r\nimport { getErrorMessage } from '../util/EthErrorMsg.js';\r\nimport './ExpansionPanel.css';\r\n\r\nexport default class EventListItem extends Component {\r\n\r\n  render() {\r\n    return (\r\n      \r\n      <ExpansionPanel>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} >\r\n          <Typography className=\"heading\" \r\n            color={(this.props.event.sale_active && Date.now() < this.props.event.deadline*1000) ? \"primary\" : \"error\"}>\r\n            {bytesToString(this.props.event.title)}\r\n          </Typography>\r\n          <Typography className=\"secondaryHeading\">\r\n            {this.total_available_tickets()} available tickets\r\n          </Typography>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails className=\"expansionPanelDetails\">\r\n          <Grid item xs={true} style={{textAlign: \"center\"}}>\r\n          <BuyTicket \r\n            {...this.props}\r\n          />\r\n          </Grid>\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    );\r\n  }\r\n\r\n  total_available_tickets() {\r\n    let sum = 0;\r\n    for (let i=0; i < this.props.event.available_tickets.length; i++) {\r\n      sum += parseInt(this.props.event.available_tickets[i]);\r\n    }\r\n    return sum;\r\n  }\r\n}\r\n\r\nexport class BuyTicket extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.buyTickets = this.buyTickets.bind(this);\r\n  }\r\n\r\n  state = {\r\n    ticket_type: 0, \r\n    num: 1, \r\n    button_state: this.props.event.available_tickets[0] > 0, \r\n    total: this.convert_to_eth(this.props.event.ticket_price[0])};\r\n\r\n  handleChange = async (event) => {\r\n    await this.setState({[event.target.name]: parseInt(event.target.value)});\r\n    await this.setState({total: this.convert_to_eth(this.props.event.ticket_price[this.state.ticket_type]*this.state.num)});\r\n    this.setState({button_state: this.check_choice() && this.state.total !== \"invalid\"})\r\n  }\r\n\r\n  check_choice() {\r\n    return (!!this.state.num && this.props.event.available_tickets[this.state.ticket_type] >= this.state.num);\r\n  }\r\n\r\n  convert_to_eth(val) {\r\n    let r;\r\n    try{\r\n      r = this.props.web3.utils.fromWei(val.toString()) + \" ETH\";\r\n    } catch(e) {\r\n      r = \"invalid\";\r\n    }\r\n    return r;\r\n  }\r\n\r\n  buyTickets = async () => {\r\n    try {\r\n      let total_value = this.props.event.ticket_price[this.state.ticket_type]*this.state.num;\r\n      await this.props.contract.methods.buy_tickets(this.props.eventId, this.state.ticket_type, this.state.num)\r\n        .send({from: this.props.accounts[0], value: total_value})\r\n        .on('transactionHash', (tx) => {\r\n          this.props.add_pending_tx(tx);\r\n        })\r\n        .on('confirmation', (num, receipt) => {\r\n          if(num == 0){\r\n            this.props.add_confirmed_tx(receipt.transactionHash, receipt);\r\n          }\r\n        });\r\n      this.props.reload_event(this.props.eventId); //call to App.js to reload affected event\r\n\r\n    } catch (error){\r\n      console.log(getErrorMessage(error));\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    return(\r\n      <>\r\n      <FormControl>\r\n        <TextField\r\n          label=\"Deadline\"\r\n          margin=\"normal\"\r\n          type=\"datetime-local\"\r\n          disabled={true}\r\n          error={Date.now() >= this.props.event.deadline*1000}\r\n          value={new Date(this.props.event.deadline*1000).toISOString().substr(0,16)}/>\r\n        <RadioGroup \r\n          value={this.state.ticket_type}\r\n          name=\"ticket_type\"\r\n          onChange={this.handleChange}\r\n        >\r\n        {this.props.event.available_tickets.map((e, i) => \r\n\r\n          <FormControlLabel\r\n            key={i}\r\n            value={i}\r\n            control={<Radio />}\r\n            label={\"Type \"+(i+1)+\" - Price: \"+this.props.web3.utils.fromWei(this.props.event.ticket_price[i])+\r\n                    \" ETH | Available: \"+this.props.event.available_tickets[i]}\r\n          />\r\n\r\n        )}\r\n        <br/><TextField\r\n          type=\"number\"\r\n          name=\"num\"\r\n          label=\"Number of tickets\"\r\n          required={true}\r\n          variant=\"outlined\"\r\n          disabled={!this.props.event.sale_active || Date.now() >= this.props.event.deadline*1000}\r\n          helperText={(!this.props.event.sale_active || Date.now() >= this.props.event.deadline*1000) ? \"Sale is closed for this event.\" : \"\"}\r\n          inputProps={{min: \"1\", max:this.props.event.available_tickets[this.state.ticket_type], step: \"1\"}}\r\n          defaultValue={1}\r\n          onChange={this.handleChange}\r\n        />\r\n        </RadioGroup>\r\n        Total: {this.state.total}\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          disabled={!this.state.button_state || \r\n            !this.props.event.sale_active || \r\n            Date.now() >= this.props.event.deadline*1000 || \r\n            !this.props.accounts}\r\n          onClick={this.buyTickets}\r\n        > Buy tickets\r\n        </Button>\r\n      </FormControl>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport EventListItem from './EventListItem.js'\r\nimport './ExpansionPanel.css';\r\n\r\nexport default class EventList extends Component {\r\n\r\n  render() {\r\n    return(\r\n      <div>\r\n        {this.props.event_list.map(e =>\r\n          {if (this.props.events.has(e)) {\r\n            return(<EventListItem \r\n              key={e}\r\n              eventId={e}\r\n              event={this.props.events.get(e)}\r\n              {...this.props}\r\n            />)\r\n          }}\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport EventList from './EventList.js';\r\n\r\nexport default class BrowseEvents extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <EventList {...this.props} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport {TextField, ExpansionPanel, ExpansionPanelSummary, Button, \r\nExpansionPanelDetails, FormControl, List, ListItem, Grid } from '@material-ui/core';\r\n\r\nimport { bytesToString } from '../../util/conversion.js';\r\n\r\nexport default class TicketView extends Component {\r\n  state = {customer: null}\r\n\r\n  componentDidMount = async () => {\r\n    // get list of tickets\r\n    this.load_tickets();\r\n  }\r\n\r\n  load_tickets = async () => {\r\n    this.setState({tickets: \r\n      await this.props.contract.methods.get_tickets(this.props.eventId, this.props.accounts[0]).call()});\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <ExpansionPanel>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n          {!!(this.props.event)?bytesToString(this.props.event.title):\"loading..\"}\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails>\r\n          <Grid item xs={true} style={{textAlign: \"center\"}}>\r\n          <FormControl>\r\n            \r\n            {!!(this.state.tickets) ? this.list_tickets() : \"loading..\"}\r\n            <TextField\r\n              label=\"Deadline\"\r\n              margin=\"normal\"\r\n              type=\"datetime-local\"\r\n              disabled={true}\r\n              error={Date.now() >= this.props.event.deadline*1000}\r\n              value={new Date(this.props.event.deadline*1000).toISOString().substr(0,16)}/>\r\n            <Button\r\n              color=\"secondary\"\r\n              variant=\"contained\"\r\n              disabled={this.can_return_tickets()}\r\n              onClick={() => { this.return_tickets() }}\r\n              >{!this.can_return_tickets() ? \"Return All Tickets\" : \"Ticket return is disabled\"}</Button>\r\n          </FormControl>\r\n          </Grid>\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    );\r\n  }\r\n\r\n  can_return_tickets() {\r\n    return !!(this.state.tickets) ? \r\n      (!this.props.event.buyback_active \r\n      || !this.props.event.sale_active \r\n      || (this.state.tickets.length < 1)\r\n      || (Date.now() > this.props.event.deadline*1000)) :\r\n      true;\r\n  }\r\n\r\n  return_tickets = async () => {\r\n    let failed = true;\r\n    await this.props.contract.methods.return_tickets(this.props.eventId).estimateGas({from: this.props.accounts[0]})\r\n    .then(function(gasAmount){\r\n      failed = false;\r\n    })\r\n    .catch(function(error){\r\n      console.log(error);\r\n    });\r\n\r\n    if (!failed) {\r\n      await this.props.contract.methods.return_tickets(this.props.eventId).send({from: this.props.accounts[0]})\r\n        .on('transactionHash', (tx) => {\r\n          this.props.add_pending_tx(tx);\r\n        })\r\n        .on('confirmation', (num, receipt) => {\r\n          if(num == 0){\r\n            this.props.add_confirmed_tx(receipt.transactionHash, receipt);\r\n          }\r\n        });\r\n      this.load_tickets();\r\n      this.props.reload_event(this.props.eventId);\r\n    }\r\n\r\n  }\r\n\r\n  list_tickets() {\r\n    if (this.state.tickets.length > 0) {\r\n      return(\r\n        <List dense={true}>\r\n          {this.state.tickets.map((e, i) => \r\n            {if(e > 0){\r\n              return <ListItem key={i}>Tickets of type {i+1}: {e}</ListItem>\r\n            }}\r\n          )}\r\n        </List>\r\n      );\r\n    } else {\r\n      return(\r\n        <div>No tickets found.</div>\r\n      );\r\n    }\r\n    \r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport TicketView from './MyTickets/TicketView.js';\r\n\r\nimport { getErrorMessage } from '../util/EthErrorMsg.js';\r\n\r\nexport default class MyTickets extends Component {\r\n\r\n  state = {participation: null}\r\n\r\n  componentDidMount = async () => {\r\n    // get events of which user owns tickets to\r\n    try {\r\n      let participation = await this.props.contract.methods.get_participation().call({from: this.props.accounts[0]})\r\n      this.setState({participation: participation});\r\n    } catch (error) {\r\n      console.log(getErrorMessage(error));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {!!(this.state.participation) ? this.state.participation.map((e, i) =>\r\n          {if (this.props.events.has(e)) {\r\n            return(<TicketView\r\n              key={i}\r\n              accounts={this.props.accounts} \r\n              contract={this.props.contract}\r\n              eventId={e}\r\n              reload_event={this.props.reload_event}\r\n              add_pending_tx={this.props.add_pending_tx}\r\n              add_confirmed_tx={this.props.add_confirmed_tx}\r\n              event={this.props.events.get(e)} />)\r\n          } else return (\"No tickets found.\")} \r\n\r\n        ):\"No tickets found...\"}\r\n          \r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { TextField, ExpansionPanel, ExpansionPanelSummary, Button, Select, FormHelperText, \r\nExpansionPanelDetails, Chip, Avatar, FormControl, MenuItem, List, ListItem, \r\nDialog, DialogTitle, DialogContent, DialogActions, Grid} from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { makeStyles } from \"@material-ui/styles\";\r\n\r\nimport { bytesToString } from '../../util/conversion.js';\r\nimport { getErrorMessage } from '../../util/EthErrorMsg.js';\r\nimport '../ExpansionPanel.css';\r\n\r\nexport default class OwnedEvent extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      customer_list: [], \r\n      view_funds: false, \r\n      funds: 0, \r\n      confirmation_open: false,\r\n      confirmation_title: null, \r\n      confirmation_message: null,\r\n      event_deleted: false}\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.event) {\r\n      return <div>Loading event data..</div>;\r\n    }\r\n\r\n    return (\r\n      <div><ExpansionPanel>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n          {!!(this.props.event)?bytesToString(this.props.event.title):\"loading..\"}\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails>\r\n        <Grid item xs={true} style={{textAlign: \"center\"}}>\r\n          <FormControl>\r\n            <Chip\r\n              avatar={<Avatar>S</Avatar>}\r\n              label=\"Sale Status\"\r\n              color={this.get_color(this.props.event.sale_active)}\r\n              clickable\r\n              onClick={() => this.handleActivateSale(this.props.event.sale_active)}\r\n              variant=\"outlined\"/>\r\n            <Chip\r\n              avatar={<Avatar>B</Avatar>}\r\n              label=\"Buyback Status\"\r\n              color={this.get_color(this.props.event.buyback_active)}\r\n              variant=\"outlined\"/>\r\n            <TextField\r\n              label=\"Deadline\"\r\n              margin=\"normal\"\r\n              type=\"datetime-local\"\r\n              disabled={true}\r\n              error={Date.now() >= this.props.event.deadline*1000}\r\n              value={new Date(this.props.event.deadline*1000).toISOString().substr(0,16)}\r\n            />\r\n\r\n            <br/>\r\n\r\n            <List dense={true}>\r\n              {this.props.event.available_tickets.map((e,i) => \r\n                <ListItem key={i}>\r\n                  Ticket type {i+1} - Available tickets: \r\n                  {this.props.event.available_tickets[i]} | Ticket price: \r\n                  {this.props.web3.utils.fromWei(this.props.event.ticket_price[i])} ETH\r\n                </ListItem>\r\n              )}\r\n            </List>\r\n            <br/>\r\n\r\n            <Chip\r\n              label={\"View funds: \" + (this.state.view_funds? (this.props.web3.utils.fromWei(this.state.funds) + \" ETH\") : \"...\")}\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              clickable\r\n              onClick={() => this.view_funds()} /> <br/>\r\n\r\n            <div><Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              disabled={(Date.now() < this.props.event.deadline*1000) || this.state.funds <= 0}\r\n              onClick={() => { this.withdraw_funds() }}\r\n              >Withdraw funds</Button></div><br/>\r\n\r\n            <AddTickets\r\n              {...this.props}\r\n              tickets={this.props.event.available_tickets}/>\r\n\r\n            <ChangePrices\r\n              {...this.props}\r\n              prices={this.props.event.ticket_price}/>\r\n            <br/>\r\n\r\n            <div><Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={() => { this.get_customer_list() }}\r\n              >Load customer list</Button></div>\r\n\r\n            <List dense={true}>\r\n              {this.state.customer_list.map((e, i) => \r\n                <ListItem key={i}>\r\n                  {e}\r\n                </ListItem>\r\n              )}\r\n            </List>\r\n\r\n            <div><Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              disabled={(Date.now() < (this.props.event.deadline+604800)*1000) || this.state.funds > 0}\r\n              onClick={() => this.setState({\r\n                confirmation_title: \"Delete Event\", \r\n                confirmation_open: true,\r\n                confirmation_message: \"Deletion of event is irreversible - Confirm?\"})}\r\n              >Delete Event</Button></div>\r\n\r\n          </FormControl>\r\n          </Grid>\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n\r\n      <Dialog\r\n        open={this.state.confirmation_open}\r\n        onClose={this.handle_close_confirmation}\r\n      >\r\n        <DialogTitle>{this.state.confirmation_title}</DialogTitle>\r\n        <DialogContent>\r\n          {this.state.confirmation_message}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            color=\"secondary\"\r\n            disabled={(Date.now() < (this.props.event.deadline/*+604800*/)*1000) || this.state.funds > 0 || this.state.event_deleted}\r\n            onClick={() => this.delete_event()}\r\n          >Delete Event</Button>\r\n          <Button onClick={this.handle_close_confirmation}>\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog></div>\r\n    );\r\n  }\r\n\r\n  handle_close_confirmation = async () => {\r\n    await this.setState({confirmation_open: false});\r\n    if(this.state.event_deleted){\r\n      await this.props.delete_event(this.props.eventId);\r\n    }\r\n  }\r\n\r\n  delete_event = async () => {\r\n    try {\r\n      await this.props.contract.methods.delete_event(this.props.eventId).send({from: this.props.accounts[0]})\r\n        .on('transactionHash', (tx) => {\r\n          this.props.add_pending_tx(tx);\r\n        })\r\n        .on('confirmation', (num, receipt) => {\r\n          if(num == 0){\r\n            this.props.add_confirmed_tx(receipt.transactionHash, receipt);\r\n          }\r\n        });\r\n      await this.setState({\r\n        event_deleted: true,\r\n        confirmation_title: \"Event deleted\",\r\n        confirmation_message: \"Event has been permanently deleted.\"});\r\n    } catch (error) {\r\n      await this.setState({\r\n        confirmation_title: \"Event deletion failed\",\r\n        confirmation_message: \"Event was not deleted - transaction failed. \\n\" + getErrorMessage(error)});\r\n    }\r\n  }\r\n\r\n  get_color(activator) {\r\n    if (activator) return \"secondary\" \r\n    else return \"primary\";\r\n  }\r\n\r\n  handleActivateSale = async (activator) => {\r\n    try {\r\n      if (activator) {\r\n        await this.props.contract.methods.stop_sale(this.props.eventId).send({from: this.props.accounts[0]})\r\n        .on('transactionHash', (tx) => {\r\n          this.props.add_pending_tx(tx);\r\n        })\r\n        .on('confirmation', (num, receipt) => {\r\n          if(num == 0){\r\n            this.props.add_confirmed_tx(receipt.transactionHash, receipt);\r\n          }\r\n        });\r\n      } else {\r\n        await this.props.contract.methods.continue_sale(this.props.eventId).send({from: this.props.accounts[0]})\r\n        .on('transactionHash', (tx) => {\r\n          this.props.add_pending_tx(tx);\r\n        })\r\n        .on('confirmation', (num, receipt) => {\r\n          if(num == 0){\r\n            this.props.add_confirmed_tx(receipt.transactionHash, receipt);\r\n          }\r\n        });\r\n      }\r\n      this.props.reload_event(this.props.eventId); //call to App.js to reload affected event\r\n    \r\n    } catch (error) {\r\n      console.log(\"Dev error: \" + error.message);\r\n    }\r\n  }\r\n\r\n  view_funds = async () => {\r\n    if (!this.state.view_funds) {\r\n      try{\r\n        this.setState({funds: await this.props.contract.methods.view_funds(\r\n          this.props.eventId\r\n          ).call({from: this.props.accounts[0]})});\r\n        this.setState({view_funds: true})\r\n      } catch (error) {\r\n        console.log(\"Dev error: \" + error.message);\r\n      }\r\n    } else {\r\n      this.setState({view_funds: false})\r\n    }\r\n  }\r\n\r\n  withdraw_funds = async () => {\r\n    try{\r\n      // attempt to withdraw funds\r\n      await this.props.contract.methods.withdraw_funds(this.props.eventId)\r\n        .send({from: this.props.accounts[0]})\r\n        .on('transactionHash', (tx) => {\r\n          this.props.add_pending_tx(tx);\r\n        })\r\n        .on('confirmation', (num, receipt) => {\r\n          if(num == 0){\r\n            this.props.add_confirmed_tx(receipt.transactionHash, receipt);\r\n          }\r\n        });\r\n\r\n      //update current funds display\r\n      this.setState({funds: await this.props.contract.methods.view_funds(\r\n        this.props.eventId\r\n        ).call({from: this.props.accounts[0]})});\r\n    } catch (error) {\r\n      console.log(\"Dev error: \" + error.message);\r\n    }\r\n  }\r\n\r\n  get_customer_list = async () => {\r\n    try {\r\n      this.setState({customer_list: await this.props.contract.methods.get_customers(\r\n        this.props.eventId\r\n        ).call({from: this.props.accounts[0]})});\r\n    } catch (error) {\r\n      console.log(\"Dev error: \" + error.message);\r\n    }\r\n  }\r\n}\r\n\r\nexport class AddTickets extends Component {\r\n  addTickets = new Array(this.props.tickets.length).fill(\"0\");\r\n\r\n  render() {\r\n    return(\r\n      <ExpansionPanel>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n          Add tickets\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails>\r\n          <FormControl>\r\n            {this.props.tickets.map((e, i) => \r\n              <TextField \r\n                key={i}\r\n                id={\"tickets_to_add\" + i}\r\n                label=\"Tickets to add\"\r\n                variant=\"outlined\" \r\n                margin=\"normal\"\r\n                required={false}\r\n                type=\"number\"\r\n                defaultValue=\"0\"\r\n                onChange={e => this.addTickets[i] = e.target.value}\r\n                inputProps={{ min: \"0\", step: \"1\" }}\r\n                helperText={\"Ticket type \" + (i+1)} />\r\n            )}\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={() => { this.submit() }}\r\n              >Add</Button>\r\n          </FormControl>\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    );\r\n  }\r\n\r\n  submit = async () => {\r\n    try {\r\n      await this.props.contract.methods.add_tickets(\r\n        this.props.eventId,\r\n        this.addTickets\r\n        ).send({from: this.props.accounts[0]})\r\n        .on('transactionHash', (tx) => {\r\n          this.props.add_pending_tx(tx);\r\n        })\r\n        .on('confirmation', (num, receipt) => {\r\n          if(num == 0){\r\n            this.props.add_confirmed_tx(receipt.transactionHash, receipt);\r\n          }\r\n        });\r\n      this.props.reload_event(this.props.eventId); //call to App.js to reload affected event\r\n\r\n    } catch (error) {\r\n      console.log(\"Dev error: \" + error.message);\r\n    }\r\n  }\r\n}\r\n\r\nexport class ChangePrices extends Component {\r\n  state = {ticketType: 0, newPrice: this.props.prices[0], button_state: false}\r\n\r\n  render() {\r\n    return(\r\n      <ExpansionPanel>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n          Change prices\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails>\r\n          <FormControl>\r\n            <FormHelperText>Ticket type to change</FormHelperText>\r\n            <Select\r\n              labelId=\"Ticket type to change\"\r\n              value={this.state.ticketType}\r\n              onChange={e => this.setState({ticketType: e.target.value})}\r\n            >\r\n              {this.props.prices.map((e, i) => \r\n                <MenuItem key={i} value={i}>{i+1}</MenuItem>\r\n              )}\r\n            </Select>\r\n            \r\n            <TextField \r\n                id={\"new_price\"}\r\n                label=\"New price (ETH)\"\r\n                variant=\"outlined\" \r\n                margin=\"normal\"\r\n                required={true}\r\n                type=\"number\"\r\n                defaultValue={this.props.prices[this.state.ticketType]}\r\n                onChange={e => {\r\n                  !!e.target.value ? this.setState({newPrice: this.props.web3.utils.toWei(e.target.value)}) : \r\n                    this.setState({newPrice: null});\r\n                  this.check_input(e.target.value);\r\n                }}\r\n                inputProps={{ min: \"0.000001\", step: \"0.000001\" }}/>\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={() => { this.submit() }}\r\n              disabled={this.state.button_state}\r\n              >Change price</Button>\r\n          </FormControl>\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    );\r\n  }\r\n\r\n  check_input(input) {\r\n    let s = (!input || input < 0.000001);\r\n    this.setState({button_state: s });\r\n  }\r\n\r\n  submit = async () => {\r\n    try {\r\n      await this.props.contract.methods.change_ticket_price(\r\n        this.props.eventId,\r\n        this.state.ticketType,\r\n        this.state.newPrice\r\n        ).send({from: this.props.accounts[0]})\r\n        .on('transactionHash', (tx) => {\r\n          this.props.add_pending_tx(tx);\r\n        })\r\n        .on('confirmation', (num, receipt) => {\r\n          if(num == 0){\r\n            this.props.add_confirmed_tx(receipt.transactionHash, receipt);\r\n          }\r\n        });\r\n      this.props.reload_event(this.props.eventId); //call to App.js to reload affected event\r\n\r\n    } catch (error) {\r\n      console.log(\"Dev error: \" + error.message);\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport OwnedEvent from './MyEvents/OwnedEvent.js';\r\n\r\nexport default class MyEvents extends Component {\r\n  owned_events = [];\r\n  constructor() {\r\n    super();\r\n    this.state = {owned_events: []}\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    // extract list of owned events from all events\r\n    this.props.event_list.map(async (eventId) => {\r\n      let event = this.props.events.get(eventId);\r\n      if (event.owner === this.props.accounts[0]) {\r\n        this.owned_events.push(eventId);\r\n      }\r\n    });\r\n\r\n    this.setState({owned_events: this.owned_events});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.owned_events.map((e, i) =>\r\n          <OwnedEvent\r\n            key={i}\r\n            accounts={this.props.accounts} \r\n            contract={this.props.contract}\r\n            eventId={e} \r\n            event={this.props.events.get(e)}\r\n            reload_event={this.props.reload_event}\r\n            delete_event={this.props.delete_event}\r\n            add_pending_tx={this.props.add_pending_tx}\r\n            add_confirmed_tx={this.props.add_confirmed_tx}\r\n            web3={this.props.web3}/>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport EventContract from \"./contracts/EventContract.json\";\r\nimport getWeb3 from \"./getWeb3\";\r\nimport Web3 from 'web3';\r\nimport PropTypes from 'prop-types';\r\nimport Box from '@material-ui/core/Box';\r\nimport styled from 'styled-components';\r\nimport { green, orange, red } from '@material-ui/core/colors';\r\nimport { Button, Typography, AppBar, Tabs, Tab, Backdrop, CircularProgress, FormControl, \r\n  Grid, ButtonGroup, Dialog, DialogTitle, DialogContent, DialogActions } from '@material-ui/core';\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\n\r\nimport \"./App.css\";\r\nimport CreateEvent from \"./components/CreateEvent\";\r\nimport BrowseEvents from \"./components/BrowseEvents\";\r\nimport MyTickets from \"./components/MyTickets\";\r\nimport MyEvents from \"./components/MyEvents\";\r\n\r\nconst colors = {white: \"#ffffff\", black: \"#000000\", teal: \"#2fc4b5\", grey: \"#7a7a7a\", light_grey: \"#b5b5b5\", \r\n  dark_grey: \"#363636\", orange: \"#e85623\"};\r\n\r\nconst theme = createMuiTheme({\r\n  \r\n  palette: {\r\n    primary: {\r\n      main: colors.white,\r\n    },\r\n    secondary: {\r\n      main: colors.teal,\r\n    },\r\n    error: {\r\n      main: colors.orange,\r\n    },\r\n    background: {\r\n      main: colors.dark_grey,\r\n    },\r\n    text: {\r\n      primary: colors.white,\r\n      secondary: colors.light_grey,\r\n      disabled: colors.light_grey,\r\n    },\r\n    action: {\r\n      disabled: colors.light_grey,\r\n    }\r\n  },\r\n\r\n  overrides: {\r\n    MuiExpansionPanelSummary: {\r\n      root: {\r\n        backgroundColor: colors.dark_grey,\r\n      },\r\n    },\r\n\r\n    MuiExpansionPanelDetails: {\r\n      root: {\r\n        backgroundColor: colors.dark_grey,\r\n      },\r\n    },\r\n\r\n    MuiFormControlLabel: {\r\n      label: {\r\n        color: colors.light_grey,\r\n      },\r\n    },\r\n\r\n    MuiOutlinedInput: {\r\n      root: {\r\n        '& $notchedOutline': {\r\n          borderColor: colors.grey,\r\n        },\r\n      }\r\n    },\r\n\r\n    MuiPickersBasePicker:{\r\n      pickerView:{\r\n        backgroundColor:colors.dark_grey,\r\n      }\r\n    },\r\n\r\n    MuiPickersCalendarHeader: {\r\n      dayLabel: {\r\n        color: colors.light_grey,\r\n      },\r\n    },\r\n\r\n    MuiSvgIcon: {\r\n      root: {\r\n        color: colors.light_grey,\r\n      }\r\n    },\r\n\r\n    MuiDialog: {\r\n      paper: {\r\n        backgroundColor: colors.dark_grey,\r\n        color: colors.white,\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nconst PendingButton = styled(Button)`\r\n  && {\r\n    text-transform: none;\r\n    background-color: ${orange[200]};\r\n  }\r\n`;\r\n\r\nconst ConfirmedButton = styled(Button)`\r\n  text-transform: none;\r\n  background-color: ${green[200]};\r\n`;\r\n\r\nconst FailedButton = styled(Button)`\r\n  text-transform: none;\r\n  background-color: ${red[200]};\r\n`;\r\n\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <Typography\r\n      component=\"div\"\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`app-tabpanel-${index}`}\r\n      aria-labelledby={`app-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box p={3}>{children}</Box>}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction tabProps(index) {\r\n  return {\r\n    id: `app-tab-${index}`,\r\n    'aria-controls': `app-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nfunction SimpleBackdrop() {\r\n  return (\r\n    <div>\r\n      <Backdrop  open={true}>\r\n        <FormControl>\r\n          <CircularProgress color=\"secondary\" />\r\n        </FormControl>\r\n      </Backdrop>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nclass App extends Component {\r\n  state = { \r\n    web3: null, \r\n    accounts: null, \r\n    contract: null, \r\n    activeTab: 0, \r\n    pending_tx: [], \r\n    confirmed_tx: [],\r\n    failed_tx: [],\r\n    failed_metamask: false};\r\n\r\n  accountChangeCheck = setInterval( async () => {\r\n    if (this.state.web3 && this.state.accounts && this.state.web3.eth.accounts[0] !== this.state.accounts[0]) {\r\n      this.setState({accounts: await this.state.web3.eth.getAccounts()});\r\n    }\r\n  }, 1000);\r\n\r\n  componentDidMount = async () => {\r\n    /*window.addEventListener('load', async () => {\r\n      if (window.ethereum) {\r\n        try {\r\n          // Get network provider and web3 instance.\r\n          const web3 = window.ethereum;\r\n          this.setState({web3: web3});\r\n        } catch (error) {\r\n          console.log(error.message);\r\n        }\r\n      }\r\n    });*/\r\n\r\n    try {\r\n      // Get network provider and web3 instance.\r\n      \r\n      let web3 = new Web3(new Web3.providers.HttpProvider(\"https://ropsten.infura.io/v3/5c214d15dc4145778640005163a91851\"));\r\n\r\n      // Get the contract instance.\r\n      const networkId = await web3.eth.net.getId();\r\n      const deployedNetwork = EventContract.networks[networkId];\r\n      const instance = new web3.eth.Contract(\r\n        EventContract.abi,\r\n        deployedNetwork.address\r\n      );\r\n\r\n      instance.options.handleRevert = true;\r\n\r\n      // Set web3, accounts, and contract to the state\r\n      this.setState({ web3: web3, contract: instance});\r\n\r\n      // load list of event IDs\r\n      await this.load_event_list();\r\n\r\n      // cache all events\r\n      await this.load_events();\r\n\r\n      // Listen for the EventCreated event to be emitted from the contract\r\n      instance.events.EventCreated(async (err, res) => {\r\n        if(!err){\r\n          await this.reload_event(res.returnValues.event_id);\r\n          await this.load_event_list();\r\n        }\r\n      });\r\n\r\n    } catch (error) {\r\n      // Catch any errors for any of the above operations.\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  connect_metamask = async () => {\r\n    try {\r\n      await window.ethereum.enable();\r\n      const web3 = new Web3(window.ethereum);\r\n      const accounts = await web3.eth.getAccounts();\r\n\r\n      // Get the contract instance.\r\n      const networkId = await web3.eth.net.getId();\r\n      const deployedNetwork = EventContract.networks[networkId];\r\n      const instance = new web3.eth.Contract(\r\n        EventContract.abi,\r\n        deployedNetwork.address\r\n      );\r\n\r\n      instance.options.handleRevert = true;\r\n\r\n      // Set web3, accounts, and contract to the state\r\n      this.setState({ web3: web3, contract: instance});\r\n\r\n      this.setState({web3: web3, accounts: accounts});\r\n\r\n      // load list of event IDs\r\n      await this.load_event_list();\r\n\r\n      // cache all events\r\n      await this.load_events();\r\n\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.setState({failed_metamask: true});\r\n    }\r\n  }\r\n\r\n  load_event_list = async () => {\r\n    let event_list = await this.state.contract.methods.get_events().call();\r\n    this.setState({event_list: event_list});\r\n  }\r\n\r\n  load_events = async () => {\r\n    let events = new Map();\r\n    await Promise.all(this.state.event_list.map(async (event) => {\r\n      events.set(event, await this.state.contract.methods.get_event_info(event).call());\r\n    }));\r\n    this.setState({ events: events });\r\n  }\r\n\r\n  reload_event = async (event_id) => {\r\n    let updated_event = await this.state.contract.methods.get_event_info(event_id).call();\r\n    this.setState((prevState) => {\r\n      let updatedEvents = new Map(prevState.events);\r\n      return { events: updatedEvents.set(event_id, updated_event)};\r\n    });\r\n  }\r\n\r\n  delete_event = async (event_id) => {\r\n    await this.load_event_list();\r\n    this.setState((prevState) => {\r\n      let updatedEvents = new Map(prevState.events);\r\n      updatedEvents.delete(event_id);\r\n      return { events: updatedEvents};\r\n    });\r\n  }\r\n\r\n  changeTab = (event, value) => {\r\n    this.setState({ activeTab: value });\r\n  }\r\n\r\n  add_confirmed_tx = async (tx, receipt) => {\r\n    let pending = this.state.pending_tx;\r\n    pending.splice(pending.indexOf(tx), 1);\r\n    this.setState({ pending_tx: pending });\r\n    if(receipt.status){\r\n        this.setState({ confirmed_tx: [...this.state.confirmed_tx, tx] });\r\n    } else {\r\n        this.setState({ failed_tx: [...this.state.failed_tx, tx] });\r\n    }\r\n  }\r\n\r\n  add_failed_tx = async (tx) => {\r\n    let pending = this.state.pending_tx;\r\n    pending.splice(pending.indexOf(tx), 1);\r\n    this.setState({ pending_tx: pending });\r\n    this.setState({ failed_tx: [...this.state.failed_tx, tx] });\r\n  }\r\n\r\n  add_pending_tx = async (id) => {\r\n    this.setState({ pending_tx: [...this.state.pending_tx, (id)] });\r\n  }\r\n\r\n  handle_close_error = async () => {\r\n    await this.setState({failed_metamask: false});\r\n  }\r\n\r\n  render() {\r\n\r\n    if (!this.state.web3 || !this.state.events) {\r\n      return (\r\n        <ThemeProvider theme={theme}>\r\n          <SimpleBackdrop/>;\r\n        </ThemeProvider> );\r\n    }\r\n\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n      <div className=\"App\">\r\n        <Dialog open={this.state.failed_metamask} onClose={this.handle_close_error}>\r\n          <DialogTitle>Failed to connect</DialogTitle>\r\n          <DialogContent>Connection to MetaMask account failed. Is MetaMask installed?</DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handle_close_error} color=\"secondary\">\r\n              Close\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        <AppBar position=\"static\">\r\n          {this.state.pending_tx.map((tx) => {\r\n            let short = tx.substring(0,15) + '...';\r\n            return (\r\n              <PendingButton \r\n                variant=\"contained\"\r\n                onClick={() => {\r\n                  navigator.clipboard.writeText(tx);\r\n                  alert('Transaction id copied to clipboard!');\r\n                }}\r\n              >Transaction with id {short} is pending</PendingButton>\r\n            );\r\n          })}\r\n          {this.state.confirmed_tx.map((tx) => {\r\n            let short = tx.substring(0,15) + '...';\r\n            return (\r\n              <ConfirmedButton \r\n                variant=\"contained\"\r\n                onClick={() => {\r\n                  let conf = this.state.confirmed_tx;\r\n                  conf.splice(conf.indexOf(tx), 1);\r\n                  this.setState({ confirmed_tx: conf });\r\n                }}\r\n              >Transaction with id {short} has been confirmed! Click to dismiss.</ConfirmedButton>\r\n            );\r\n          })}\r\n          {this.state.failed_tx.map((tx) => {\r\n            let short = tx.substring(0,15) + '...';\r\n            return (\r\n              <FailedButton \r\n                variant=\"contained\"\r\n                onClick={() => {\r\n                  let failed = this.state.failed_tx;\r\n                  failed.splice(failed.indexOf(tx), 1);\r\n                  this.setState({ failed_tx: failed });\r\n                }}\r\n              >Transaction with id {short} failed. Click to dismiss.</FailedButton>\r\n            );\r\n          })}\r\n          <Tabs\r\n            value={this.state.activeTab}\r\n            className=\"Tabs\"\r\n            indicatorColor=\"secondary\"\r\n            centered={true}\r\n            onChange={this.changeTab}\r\n            aria-label=\"simple tabs example\"\r\n          >\r\n            <Tab label=\"Browse\" {...tabProps(0)} />\r\n            <Tab label=\"My tickets\" disabled={!this.state.accounts} {...tabProps(1)} />\r\n            <Tab label=\"My events\" disabled={!this.state.accounts} {...tabProps(2)} />\r\n            <Tab label=\"Create\" disabled={!this.state.accounts} {...tabProps(3)} />\r\n          </Tabs>\r\n        </AppBar>\r\n        {this.login_bar()}\r\n        <TabPanel value={this.state.activeTab} index={0}>\r\n          <BrowseEvents \r\n            contract={this.state.contract} \r\n            accounts={this.state.accounts}\r\n            event_list={this.state.event_list}\r\n            events={this.state.events}\r\n            reload_event={this.reload_event}\r\n            add_confirmed_tx={this.add_confirmed_tx}\r\n            add_failed_tx={this.add_failed_tx}\r\n            add_pending_tx={this.add_pending_tx}\r\n            web3={this.state.web3}/>\r\n        </TabPanel>\r\n\r\n        <TabPanel value={this.state.activeTab} index={1}>\r\n            <MyTickets \r\n              accounts={this.state.accounts} \r\n              contract={this.state.contract}\r\n              reload_event={this.reload_event}\r\n              add_failed_tx={this.add_failed_tx}\r\n              add_confirmed_tx={this.add_confirmed_tx}\r\n              add_pending_tx={this.add_pending_tx}\r\n              events={this.state.events}/>\r\n        </TabPanel>\r\n\r\n        <TabPanel value={this.state.activeTab} index={2}>\r\n            <MyEvents\r\n              accounts={this.state.accounts} \r\n              contract={this.state.contract} \r\n              event_list={this.state.event_list}\r\n              events={this.state.events}\r\n              reload_event={this.reload_event}\r\n              delete_event={this.delete_event}\r\n              add_confirmed_tx={this.add_confirmed_tx}\r\n              add_failed_tx={this.add_failed_tx}\r\n              add_pending_tx={this.add_pending_tx}\r\n              web3={this.state.web3}/>\r\n        </TabPanel>\r\n\r\n        <TabPanel value={this.state.activeTab} index={3}>\r\n            <CreateEvent \r\n              event_list={this.state.event_list}\r\n              web3={this.state.web3} \r\n              accounts={this.state.accounts} \r\n              contract={this.state.contract}\r\n              add_confirmed_tx={this.add_confirmed_tx}\r\n              add_failed_tx={this.add_failed_tx}\r\n              add_pending_tx={this.add_pending_tx}\r\n              colors={this.colors}/>\r\n        </TabPanel>\r\n      </div>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n\r\n  login_bar() {\r\n    if (!this.state.accounts) return (\r\n      <Grid item xs={true} style={{textAlign: \"center\"}}>\r\n        <ButtonGroup color=\"secondary\">\r\n          <Button \r\n            variant=\"outlined\"\r\n            onClick={() => this.connect_metamask()}\r\n            >Connect with MetaMask</Button>\r\n          <Button \r\n            variant=\"outlined\"\r\n            href=\"https://metamask.io\"\r\n            target=\"_blank\"\r\n            >Get MetaMask</Button>\r\n          </ButtonGroup>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}